<!DOCTYPE html>
<html>

  <head>
    <!-- style -->
    <link href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.css" rel="stylesheet">
    <link href="//rawgit.com/mgonto/angular-wizard/master/dist/angular-wizard.css" rel="stylesheet">
    <link rel="stylesheet" href="style.css" />

    <!-- scripts -->
    <script src="//code.jquery.com/jquery-2.2.0.min.js"></script>
    <script src="//npmcdn.com/api-check@latest/dist/api-check.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/lodash.js/2.4.1/lodash.js"></script>
    <script src="//ajax.googleapis.com/ajax/libs/angularjs/1.4.7/angular.js"></script>
    <script src="//rawgit.com/mgonto/angular-wizard/master/dist/angular-wizard.js"></script>
    <script src="//npmcdn.com/angular-formly@latest/dist/formly.js"></script>
    <script src="//npmcdn.com/angular-formly-templates-bootstrap@latest/dist/angular-formly-templates-bootstrap.js"></script>
    
    <!-- demo angular-formly -->
    <script src="script.js"></script>

    <title>Origination Demo</title>
  </head>

  <body ng-app="formlyExample" ng-controller="MainCtrl as vm">
    <div id="main-wrap">
      <h1>Just three quick and easy steps to see your custom rate!</h1>
      <hr />
      
      <div id="main-form-wrap">
      
          <form name="vm.form" ng-show="vm.formVisible">
            <wizard on-finish="vm.finishWizard()">
                
              <wz-step title="Step 1" canexit="vm.exitValidation(vm.forms.step1)">
                <formly-form model="vm.model" fields="vm.fields.step1" form="vm.forms.step1">
                  <div class="center">
                    <button type="submit" ng-disabled="vm.forms.step1.$invalid" wz-next="vm.progressForm()" class="btn btn-primary submit-button">Continue</button>
                  </div>
                </formly-form>
              </wz-step>
              
              <wz-step title="Step 2" canexit="vm.exitValidation(vm.forms.step2)">
                <formly-form model="vm.model" fields="vm.fields.step2" form="vm.forms.step2">
                  <div class="center">
                    <button type="submit" ng-disabled="vm.forms.step2.$invalid" wz-next="vm.progressForm()" class="btn btn-primary submit-button">Continue</button>
                  </div>
                </formly-form>
              </wz-step>
              
              <wz-step title="Step 3" canexit="vm.exitValidation(vm.forms.step3)">
                <formly-form model="vm.model" fields="vm.fields.step3" form="vm.forms.step3">
                  <div class="center">
                    <button type="submit" ng-disabled="vm.forms.step3.$invalid" wz-next class="btn btn-primary submit-button">Check My Rate</button>
                  </div>
                </formly-form>
              </wz-step>
              
            </wizard>
          </form>
          
          <div id="rates" ng-show="vm.ratesVisible">
            <h3 class="center">Congratulations! You Qualify for a Loan</h3>
            <div class="rate-wrap" ng-show="vm.ratesVisible">
              <p>Loan Amount: {{vm.rates.amount}}</p>
              <p>Interest Rate: {{vm.rates.rate}}</p>
              <p>APR: {{vm.rates.apr}}</p>
              <p>Monthly Payment: {{vm.rates.payment}}</p>
              <form ng-submit="vm.getLoan()">
                <button type="submit" class="btn btn-primary submit-button final-submit">Get This Loan</button>
              </form>
            </div>
          </div>
      
      </div>
      
      
      <hr />
      <h2>Model</h2>
      <pre>{{vm.model | json}}</pre>
      <h2>Fields <small>(note, functions are not shown)</small></h2>
      <pre>{{vm.originalFields | json}}</pre>
      <h2>Form</h2>
      <pre>{{vm.form | json}}</pre>
    </div>
  </body>

</html>